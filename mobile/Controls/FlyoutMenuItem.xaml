<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="mobile.Controls.FlyoutMenuItem"
             x:Name="this">
    
    <Border x:Name="ItemCard"
            BackgroundColor="{AppThemeBinding Light=White, Dark=#1C1C1E}"
            StrokeThickness="0"
            Padding="16,14"
            Margin="0,6"
            MinimumHeightRequest="60"
            HorizontalOptions="Fill"
            StrokeShape="RoundRectangle 12">
        <Border.Shadow>
            <Shadow Brush="Black" Opacity="0.08" Radius="12" Offset="0,2" />
        </Border.Shadow>
        
        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14" HorizontalOptions="Fill">
            <!-- Icône -->
            <Border Grid.Column="0"
                    WidthRequest="44"
                    HeightRequest="44"
                    StrokeThickness="0"
                    BackgroundColor="{AppThemeBinding Light=#F5F5F7, Dark=#2C2C2E}"
                    StrokeShape="RoundRectangle 10">
                <Image x:Name="MenuIcon"
                       Source="{Binding Source={x:Reference this}, Path=Icon}"
                       WidthRequest="24"
                       HeightRequest="24"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       Opacity="0.85"/>
            </Border>
            
            <!-- Titre -->
            <Label Grid.Column="1"
                   x:Name="MenuTitle"
                   Text="{Binding Source={x:Reference this}, Path=Title}"
                   FontSize="17"
                   FontAttributes="None"
                   TextColor="{AppThemeBinding Light=#1C1C1E, Dark=#F5F5F7}"
                   VerticalOptions="Center"
                   LineBreakMode="NoWrap"/>
            
            <!-- Chevron -->
            <Label Grid.Column="2"
                   x:Name="SelectionChevron"
                   Text="›"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="#667eea"
                   VerticalOptions="Center"
                   Opacity="{Binding Source={x:Reference this}, Path=IsSelected, Converter={StaticResource BoolToOpacityConverter}}"/>
        </Grid>
    </Border>
    
</ContentView>
