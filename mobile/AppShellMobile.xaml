<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="mobile.AppShellMobile"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:auth="clr-namespace:mobile.Pages.Auth"
    xmlns:pages="clr-namespace:mobile.Pages"
    Shell.FlyoutBehavior="Disabled"
    Shell.TabBarIsVisible="True"
    Shell.TabBarBackgroundColor="{DynamicResource TabBarBackground}"
    Shell.TabBarForegroundColor="{DynamicResource TabBarForeground}"
    Shell.TabBarTitleColor="{DynamicResource TabBarForeground}"
    Shell.TabBarUnselectedColor="{DynamicResource TabBarUnselected}">

    <!-- TabBar pour iOS et Android avec style moderne -->
    <TabBar>
        <!-- Tab Dashboard -->
        <Tab Title="Dashboard">
            <Tab.Icon>
                <FontImageSource FontFamily="SegoeMDL2" Glyph="&#xE80F;" />
            </Tab.Icon>
            <ShellContent
                ContentTemplate="{DataTemplate pages:MainPage}"
                Route="main" />
        </Tab>

        <!-- Tab Prévisions -->
        <Tab Title="Prévisions">
            <Tab.Icon>
                <FontImageSource FontFamily="SegoeMDL2" Glyph="&#xE706;" />
            </Tab.Icon>
            <ShellContent
                ContentTemplate="{DataTemplate pages:ForecastsPage}"
                Route="forecasts" />
        </Tab>

        <!-- Tab Profil -->
        <Tab Title="Profil">
            <Tab.Icon>
                <FontImageSource FontFamily="SegoeMDL2" Glyph="&#xE716;" />
            </Tab.Icon>
            <ShellContent
                ContentTemplate="{DataTemplate pages:ProfilePage}"
                Route="profile" />
        </Tab>
    </TabBar>

    <!-- Page de connexion (hors TabBar, accessible via navigation) -->
    <ShellContent
        x:Name="LoginItem"
        Title="Connexion"
        ContentTemplate="{DataTemplate auth:LoginPage}"
        Route="login"
        Shell.TabBarIsVisible="False" />

    <!-- Page d'inscription (hors TabBar, accessible via navigation) -->
    <ShellContent
        x:Name="RegisterItem"
        Title="Inscription"
        ContentTemplate="{DataTemplate auth:RegisterPage}"
        Route="register"
        Shell.TabBarIsVisible="False" />

    <!-- Page de splash (hors TabBar, accessible via navigation) -->
    <ShellContent
        x:Name="SplashItem"
        Title="Chargement"
        ContentTemplate="{DataTemplate pages:SplashPage}"
        Route="splash"
        Shell.TabBarIsVisible="False" />

</Shell>
