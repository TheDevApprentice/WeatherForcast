<?xml version="1.0" encoding="utf-8"?>
<Window xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
        xmlns:local="clr-namespace:mobile"
        x:Class="mobile.MainWindow">
    <!-- TitleBar personnalisée (Windows et Mac uniquement) -->
    <Window.TitleBar>
        <TitleBar Title="☁️ WeatherForecast"
                  Subtitle="Test"
                  BackgroundColor="{AppThemeBinding Light=#667eea, Dark=#1C1C1E}"
                  ForegroundColor="{AppThemeBinding Light=White, Dark=Black}"
                  HeightRequest="48">
            <TitleBar.LeadingContent>
                <Button x:Name="AccountButton"
                        HeightRequest="36"
                        WidthRequest="36"
                        Background="{AppThemeBinding Light=transparent, Dark=transparent}"
                        BorderColor="{AppThemeBinding Light=#FFFFFF30, Dark=#FFFFFF30}"
                        BorderWidth="1"
                        CornerRadius="20"
                        Clicked="OnAccountTapped"
                        IsVisible="True"
                        VerticalOptions="Center"
                        HorizontalOptions="Center" />
            </TitleBar.LeadingContent>
            <TitleBar.Content>
                <SearchBar Placeholder="Rechercher une ville..."
                           PlaceholderColor="{AppThemeBinding Light=White, Dark=Black}"
                           TextColor="{AppThemeBinding Light=White, Dark=Black}"
                           MaximumWidthRequest="300"
                           BackgroundColor="{AppThemeBinding Light=#667eea, Dark=#1C1C1E}"
                           HorizontalOptions="Fill"
                           VerticalOptions="Center" />
            </TitleBar.Content>
            <TitleBar.TrailingContent>
                <HorizontalStackLayout Spacing="8"
                                       Padding="0,0,12,0">
                    <!-- Bouton Settings -->
                    <Button x:Name="SettingsButton"
                            HeightRequest="36"
                            WidthRequest="36"
                            Background="{AppThemeBinding Light=transparent, Dark=transparent}"
                            BorderColor="{AppThemeBinding Light=#FFFFFF30, Dark=#FFFFFF30}"
                            BorderWidth="1"
                            CornerRadius="20"
                            Clicked="OnSettingsTapped"
                            IsVisible="True"
                            VerticalOptions="Center"
                            HorizontalOptions="Center" />
                </HorizontalStackLayout>
            </TitleBar.TrailingContent>
        </TitleBar>
    </Window.TitleBar>
</Window>